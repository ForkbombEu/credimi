{
  "$defs": {
    "ActivityOptions": {
      "additionalProperties": false,
      "properties": {
        "retry_policy": {
          "additionalProperties": false,
          "properties": {
            "backoff_coefficient": {
              "type": "number"
            },
            "initial_interval": {
              "type": "string"
            },
            "maximum_attempts": {
              "type": "integer"
            },
            "maximum_interval": {
              "type": "string"
            }
          },
          "type": "object"
        },
        "schedule_to_close_timeout": {
          "type": "string"
        },
        "start_to_close_timeout": {
          "type": "string"
        }
      },
      "type": "object"
    }
  },
  "$id": "https://github.com/forkbombeu/credimi/pkg/workflowengine/pipeline/workflow-definition",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "additionalProperties": false,
  "properties": {
    "config": {
      "type": "object"
    },
    "custom_checks": {
      "additionalProperties": {
        "additionalProperties": false,
        "properties": {
          "config": {
            "type": "object"
          },
          "description": {
            "type": "string"
          },
          "inputs": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object"
          },
          "outputs": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object"
          },
          "steps": {
            "items": {
              "oneOf": [
                {
                  "additionalProperties": false,
                  "properties": {
                    "activity_options": {
                      "$ref": "#/$defs/ActivityOptions"
                    },
                    "continue_on_error": {
                      "type": "boolean"
                    },
                    "id": {
                      "type": "string"
                    },
                    "metadata": {
                      "additionalProperties": true,
                      "type": "object"
                    },
                    "use": {
                      "const": "appstore-url-validation",
                      "type": "string"
                    },
                    "with": {
                      "properties": {
                        "config": {
                          "additionalProperties": true,
                          "type": "object"
                        },
                        "url": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "url"
                      ],
                      "type": "object"
                    }
                  },
                  "required": [
                    "id",
                    "use",
                    "with"
                  ],
                  "type": "object"
                },
                {
                  "additionalProperties": false,
                  "properties": {
                    "activity_options": {
                      "$ref": "#/$defs/ActivityOptions"
                    },
                    "continue_on_error": {
                      "type": "boolean"
                    },
                    "id": {
                      "type": "string"
                    },
                    "metadata": {
                      "additionalProperties": true,
                      "type": "object"
                    },
                    "use": {
                      "const": "cesr-parse",
                      "type": "string"
                    },
                    "with": {
                      "properties": {
                        "config": {
                          "additionalProperties": true,
                          "type": "object"
                        },
                        "rawCESR": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "rawCESR"
                      ],
                      "type": "object"
                    }
                  },
                  "required": [
                    "id",
                    "use",
                    "with"
                  ],
                  "type": "object"
                },
                {
                  "additionalProperties": false,
                  "properties": {
                    "activity_options": {
                      "$ref": "#/$defs/ActivityOptions"
                    },
                    "continue_on_error": {
                      "type": "boolean"
                    },
                    "id": {
                      "type": "string"
                    },
                    "metadata": {
                      "additionalProperties": true,
                      "type": "object"
                    },
                    "use": {
                      "const": "cesr-validate",
                      "type": "string"
                    },
                    "with": {
                      "properties": {
                        "config": {
                          "additionalProperties": true,
                          "type": "object"
                        },
                        "events": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "events"
                      ],
                      "type": "object"
                    }
                  },
                  "required": [
                    "id",
                    "use",
                    "with"
                  ],
                  "type": "object"
                },
                {
                  "additionalProperties": false,
                  "properties": {
                    "activity_options": {
                      "$ref": "#/$defs/ActivityOptions"
                    },
                    "continue_on_error": {
                      "type": "boolean"
                    },
                    "id": {
                      "type": "string"
                    },
                    "metadata": {
                      "additionalProperties": true,
                      "type": "object"
                    },
                    "use": {
                      "const": "conformance-check",
                      "type": "string"
                    },
                    "with": {
                      "properties": {
                        "check_id": {
                          "type": "string"
                        },
                        "config": {
                          "additionalProperties": true,
                          "type": "object"
                        },
                        "form": {
                          "additionalProperties": false,
                          "properties": {
                            "alias": {
                              "type": "string"
                            },
                            "client": {
                              "additionalProperties": false,
                              "properties": {
                                "authorization_encrypted_response_alg": {
                                  "type": "string"
                                },
                                "authorization_encrypted_response_enc": {
                                  "type": "string"
                                },
                                "client_id": {
                                  "type": "string"
                                },
                                "dcql": {
                                  "additionalProperties": false,
                                  "properties": {
                                    "credentials": {
                                      "items": {
                                        "type": "object"
                                      },
                                      "type": "array"
                                    }
                                  },
                                  "required": [
                                    "credentials"
                                  ],
                                  "type": "object"
                                },
                                "jwks": {
                                  "additionalProperties": false,
                                  "properties": {
                                    "keys": {
                                      "items": {
                                        "type": "object"
                                      },
                                      "type": "array"
                                    }
                                  },
                                  "required": [
                                    "keys"
                                  ],
                                  "type": "object"
                                },
                                "presentation_definition": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "jwks"
                              ],
                              "type": "object"
                            },
                            "description": {
                              "type": "string"
                            },
                            "server": {
                              "additionalProperties": false,
                              "properties": {
                                "authorization_endpoint": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "authorization_endpoint"
                              ],
                              "type": "object"
                            }
                          },
                          "required": [
                            "alias",
                            "description",
                            "client",
                            "server"
                          ],
                          "type": "object"
                        },
                        "session_id": {
                          "type": "string"
                        },
                        "test": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "check_id"
                      ],
                      "type": "object"
                    }
                  },
                  "required": [
                    "id",
                    "use",
                    "with"
                  ],
                  "type": "object"
                },
                {
                  "additionalProperties": false,
                  "properties": {
                    "activity_options": {
                      "$ref": "#/$defs/ActivityOptions"
                    },
                    "continue_on_error": {
                      "type": "boolean"
                    },
                    "id": {
                      "type": "string"
                    },
                    "metadata": {
                      "additionalProperties": true,
                      "type": "object"
                    },
                    "use": {
                      "const": "container-run",
                      "type": "string"
                    },
                    "with": {
                      "properties": {
                        "cmd": {
                          "items": {
                            "type": "string"
                          },
                          "type": "array"
                        },
                        "config": {
                          "additionalProperties": true,
                          "type": "object"
                        },
                        "containerName": {
                          "type": "string"
                        },
                        "env": {
                          "items": {
                            "type": "string"
                          },
                          "type": "array"
                        },
                        "image": {
                          "type": "string"
                        },
                        "mounts": {
                          "items": {
                            "type": "string"
                          },
                          "type": "array"
                        },
                        "networkConfig": {
                          "additionalProperties": false,
                          "properties": {
                            "EndpointsConfig": {
                              "additionalProperties": {
                                "additionalProperties": false,
                                "properties": {
                                  "Aliases": {
                                    "items": {
                                      "type": "string"
                                    },
                                    "type": "array"
                                  },
                                  "DNSNames": {
                                    "items": {
                                      "type": "string"
                                    },
                                    "type": "array"
                                  },
                                  "DriverOpts": {
                                    "additionalProperties": {
                                      "type": "string"
                                    },
                                    "type": "object"
                                  },
                                  "EndpointID": {
                                    "type": "string"
                                  },
                                  "Gateway": {
                                    "type": "string"
                                  },
                                  "GlobalIPv6Address": {
                                    "type": "string"
                                  },
                                  "GlobalIPv6PrefixLen": {
                                    "type": "integer"
                                  },
                                  "GwPriority": {
                                    "type": "integer"
                                  },
                                  "IPAMConfig": {
                                    "additionalProperties": false,
                                    "properties": {
                                      "IPv4Address": {
                                        "type": "string"
                                      },
                                      "IPv6Address": {
                                        "type": "string"
                                      },
                                      "LinkLocalIPs": {
                                        "items": {
                                          "type": "string"
                                        },
                                        "type": "array"
                                      }
                                    },
                                    "type": "object"
                                  },
                                  "IPAddress": {
                                    "type": "string"
                                  },
                                  "IPPrefixLen": {
                                    "type": "integer"
                                  },
                                  "IPv6Gateway": {
                                    "type": "string"
                                  },
                                  "Links": {
                                    "items": {
                                      "type": "string"
                                    },
                                    "type": "array"
                                  },
                                  "MacAddress": {
                                    "type": "string"
                                  },
                                  "NetworkID": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "IPAMConfig",
                                  "Links",
                                  "Aliases",
                                  "MacAddress",
                                  "DriverOpts",
                                  "GwPriority",
                                  "NetworkID",
                                  "EndpointID",
                                  "Gateway",
                                  "IPAddress",
                                  "IPPrefixLen",
                                  "IPv6Gateway",
                                  "GlobalIPv6Address",
                                  "GlobalIPv6PrefixLen",
                                  "DNSNames"
                                ],
                                "type": "object"
                              },
                              "type": "object"
                            }
                          },
                          "required": [
                            "EndpointsConfig"
                          ],
                          "type": "object"
                        },
                        "ports": {
                          "items": {
                            "type": "string"
                          },
                          "type": "array"
                        },
                        "user": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "image"
                      ],
                      "type": "object"
                    }
                  },
                  "required": [
                    "id",
                    "use",
                    "with"
                  ],
                  "type": "object"
                },
                {
                  "additionalProperties": false,
                  "properties": {
                    "activity_options": {
                      "$ref": "#/$defs/ActivityOptions"
                    },
                    "continue_on_error": {
                      "type": "boolean"
                    },
                    "id": {
                      "type": "string"
                    },
                    "metadata": {
                      "additionalProperties": true,
                      "type": "object"
                    },
                    "use": {
                      "const": "credential-issuer-validation",
                      "type": "string"
                    },
                    "with": {
                      "properties": {
                        "base_url": {
                          "type": "string"
                        },
                        "config": {
                          "additionalProperties": true,
                          "type": "object"
                        }
                      },
                      "required": [
                        "base_url"
                      ],
                      "type": "object"
                    }
                  },
                  "required": [
                    "id",
                    "use",
                    "with"
                  ],
                  "type": "object"
                },
                {
                  "additionalProperties": false,
                  "properties": {
                    "activity_options": {
                      "$ref": "#/$defs/ActivityOptions"
                    },
                    "continue_on_error": {
                      "type": "boolean"
                    },
                    "id": {
                      "type": "string"
                    },
                    "metadata": {
                      "additionalProperties": true,
                      "type": "object"
                    },
                    "use": {
                      "const": "credential-offer",
                      "type": "string"
                    },
                    "with": {
                      "properties": {
                        "config": {
                          "additionalProperties": true,
                          "type": "object"
                        },
                        "credential_id": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "credential_id"
                      ],
                      "type": "object"
                    }
                  },
                  "required": [
                    "id",
                    "use",
                    "with"
                  ],
                  "type": "object"
                },
                {
                  "additionalProperties": false,
                  "properties": {
                    "activity_options": {
                      "$ref": "#/$defs/ActivityOptions"
                    },
                    "continue_on_error": {
                      "type": "boolean"
                    },
                    "id": {
                      "type": "string"
                    },
                    "metadata": {
                      "additionalProperties": true,
                      "type": "object"
                    },
                    "use": {
                      "const": "custom-check",
                      "type": "string"
                    },
                    "with": {
                      "properties": {
                        "config": {
                          "additionalProperties": true,
                          "type": "object"
                        },
                        "id": {
                          "type": "string"
                        },
                        "yaml": {
                          "type": "string"
                        }
                      },
                      "type": "object"
                    }
                  },
                  "required": [
                    "id",
                    "use",
                    "with"
                  ],
                  "type": "object"
                },
                {
                  "additionalProperties": false,
                  "properties": {
                    "activity_options": {
                      "$ref": "#/$defs/ActivityOptions"
                    },
                    "continue_on_error": {
                      "type": "boolean"
                    },
                    "id": {
                      "type": "string"
                    },
                    "metadata": {
                      "additionalProperties": true,
                      "type": "object"
                    },
                    "use": {
                      "const": "email",
                      "type": "string"
                    },
                    "with": {
                      "properties": {
                        "body": {
                          "type": "string"
                        },
                        "config": {
                          "additionalProperties": true,
                          "type": "object"
                        },
                        "data": {
                          "type": "object"
                        },
                        "recipient": {
                          "type": "string"
                        },
                        "sender": {
                          "type": "string"
                        },
                        "subject": {
                          "type": "string"
                        },
                        "template": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "recipient"
                      ],
                      "type": "object"
                    }
                  },
                  "required": [
                    "id",
                    "use",
                    "with"
                  ],
                  "type": "object"
                },
                {
                  "additionalProperties": false,
                  "properties": {
                    "activity_options": {
                      "$ref": "#/$defs/ActivityOptions"
                    },
                    "continue_on_error": {
                      "type": "boolean"
                    },
                    "id": {
                      "type": "string"
                    },
                    "metadata": {
                      "additionalProperties": true,
                      "type": "object"
                    },
                    "use": {
                      "const": "http-request",
                      "type": "string"
                    },
                    "with": {
                      "properties": {
                        "body": true,
                        "config": {
                          "additionalProperties": true,
                          "type": "object"
                        },
                        "expected_status": {
                          "type": "integer"
                        },
                        "headers": {
                          "additionalProperties": {
                            "type": "string"
                          },
                          "type": "object"
                        },
                        "method": {
                          "type": "string"
                        },
                        "query_params": {
                          "additionalProperties": {
                            "type": "string"
                          },
                          "type": "object"
                        },
                        "timeout": {
                          "type": "string"
                        },
                        "url": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "method",
                        "url"
                      ],
                      "type": "object"
                    }
                  },
                  "required": [
                    "id",
                    "use",
                    "with"
                  ],
                  "type": "object"
                },
                {
                  "additionalProperties": false,
                  "properties": {
                    "activity_options": {
                      "$ref": "#/$defs/ActivityOptions"
                    },
                    "continue_on_error": {
                      "type": "boolean"
                    },
                    "id": {
                      "type": "string"
                    },
                    "metadata": {
                      "additionalProperties": true,
                      "type": "object"
                    },
                    "use": {
                      "const": "json-parse",
                      "type": "string"
                    },
                    "with": {
                      "properties": {
                        "config": {
                          "additionalProperties": true,
                          "type": "object"
                        },
                        "rawJSON": {
                          "type": "string"
                        },
                        "struct_type": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "rawJSON",
                        "struct_type"
                      ],
                      "type": "object"
                    }
                  },
                  "required": [
                    "id",
                    "use",
                    "with"
                  ],
                  "type": "object"
                },
                {
                  "additionalProperties": false,
                  "properties": {
                    "activity_options": {
                      "$ref": "#/$defs/ActivityOptions"
                    },
                    "continue_on_error": {
                      "type": "boolean"
                    },
                    "id": {
                      "type": "string"
                    },
                    "metadata": {
                      "additionalProperties": true,
                      "type": "object"
                    },
                    "use": {
                      "const": "jsonschema-validation",
                      "type": "string"
                    },
                    "with": {
                      "properties": {
                        "config": {
                          "additionalProperties": true,
                          "type": "object"
                        },
                        "data": {
                          "type": "object"
                        },
                        "schema": {
                          "type": "string"
                        },
                        "subschema": true
                      },
                      "required": [
                        "schema",
                        "data"
                      ],
                      "type": "object"
                    }
                  },
                  "required": [
                    "id",
                    "use",
                    "with"
                  ],
                  "type": "object"
                },
                {
                  "additionalProperties": false,
                  "properties": {
                    "activity_options": {
                      "$ref": "#/$defs/ActivityOptions"
                    },
                    "continue_on_error": {
                      "type": "boolean"
                    },
                    "id": {
                      "type": "string"
                    },
                    "metadata": {
                      "additionalProperties": true,
                      "type": "object"
                    },
                    "use": {
                      "const": "mobile-automation",
                      "type": "string"
                    },
                    "with": {
                      "oneOf": [
                        {
                          "additionalProperties": false,
                          "properties": {
                            "action_id": {
                              "type": "string"
                            },
                            "config": {
                              "additionalProperties": true,
                              "type": "object"
                            },
                            "parameters": {
                              "additionalProperties": {
                                "type": "string"
                              },
                              "type": "object"
                            },
                            "video": {
                              "type": "boolean"
                            }
                          },
                          "required": [
                            "action_id"
                          ],
                          "type": "object"
                        },
                        {
                          "additionalProperties": false,
                          "properties": {
                            "action_id": {
                              "type": "string"
                            },
                            "config": {
                              "additionalProperties": true,
                              "type": "object"
                            },
                            "parameters": {
                              "additionalProperties": {
                                "type": "string"
                              },
                              "type": "object"
                            },
                            "version_id": {
                              "type": "string"
                            },
                            "video": {
                              "type": "boolean"
                            }
                          },
                          "required": [
                            "action_id",
                            "version_id"
                          ],
                          "type": "object"
                        },
                        {
                          "additionalProperties": false,
                          "properties": {
                            "action_code": {
                              "type": "string"
                            },
                            "config": {
                              "additionalProperties": true,
                              "type": "object"
                            },
                            "parameters": {
                              "additionalProperties": {
                                "type": "string"
                              },
                              "type": "object"
                            },
                            "version_id": {
                              "type": "string"
                            },
                            "video": {
                              "type": "boolean"
                            }
                          },
                          "required": [
                            "action_code",
                            "version_id"
                          ],
                          "type": "object"
                        }
                      ]
                    }
                  },
                  "required": [
                    "id",
                    "use",
                    "with"
                  ],
                  "type": "object"
                },
                {
                  "additionalProperties": false,
                  "properties": {
                    "activity_options": {
                      "$ref": "#/$defs/ActivityOptions"
                    },
                    "continue_on_error": {
                      "type": "boolean"
                    },
                    "id": {
                      "type": "string"
                    },
                    "metadata": {
                      "additionalProperties": true,
                      "type": "object"
                    },
                    "use": {
                      "const": "rest-chain",
                      "type": "string"
                    },
                    "with": {
                      "properties": {
                        "config": {
                          "additionalProperties": true,
                          "type": "object"
                        },
                        "data": {
                          "type": "object"
                        },
                        "env": {
                          "type": "string"
                        },
                        "secrets": {
                          "additionalProperties": {
                            "type": "string"
                          },
                          "type": "object"
                        },
                        "yaml": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "yaml"
                      ],
                      "type": "object"
                    }
                  },
                  "required": [
                    "id",
                    "use",
                    "with"
                  ],
                  "type": "object"
                },
                {
                  "additionalProperties": false,
                  "properties": {
                    "activity_options": {
                      "$ref": "#/$defs/ActivityOptions"
                    },
                    "continue_on_error": {
                      "type": "boolean"
                    },
                    "id": {
                      "type": "string"
                    },
                    "metadata": {
                      "additionalProperties": true,
                      "type": "object"
                    },
                    "use": {
                      "const": "use-case-verification-deeplink",
                      "type": "string"
                    },
                    "with": {
                      "properties": {
                        "config": {
                          "additionalProperties": true,
                          "type": "object"
                        },
                        "use_case_id": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "use_case_id"
                      ],
                      "type": "object"
                    }
                  },
                  "required": [
                    "id",
                    "use",
                    "with"
                  ],
                  "type": "object"
                }
              ]
            },
            "type": "array"
          }
        },
        "type": "object"
      },
      "type": "object"
    },
    "name": {
      "type": "string"
    },
    "runtime": {
      "additionalProperties": false,
      "properties": {
        "debug": {
          "type": "boolean"
        },
        "schedule": {
          "additionalProperties": false,
          "properties": {
            "interval": {
              "type": "integer"
            }
          },
          "type": "object"
        },
        "temporal": {
          "additionalProperties": false,
          "properties": {
            "activity_options": {
              "additionalProperties": false,
              "properties": {
                "retry_policy": {
                  "additionalProperties": false,
                  "properties": {
                    "backoff_coefficient": {
                      "type": "number"
                    },
                    "initial_interval": {
                      "type": "string"
                    },
                    "maximum_attempts": {
                      "type": "integer"
                    },
                    "maximum_interval": {
                      "type": "string"
                    }
                  },
                  "type": "object"
                },
                "schedule_to_close_timeout": {
                  "type": "string"
                },
                "start_to_close_timeout": {
                  "type": "string"
                }
              },
              "type": "object"
            },
            "execution_timeout": {
              "type": "string"
            },
            "namespace": {
              "type": "string"
            },
            "task_queue": {
              "type": "string"
            }
          },
          "type": "object"
        }
      },
      "type": "object"
    },
    "steps": {
      "items": {
        "oneOf": [
          {
            "additionalProperties": false,
            "properties": {
              "activity_options": {
                "$ref": "#/$defs/ActivityOptions"
              },
              "continue_on_error": {
                "type": "boolean"
              },
              "id": {
                "type": "string"
              },
              "metadata": {
                "additionalProperties": true,
                "type": "object"
              },
              "use": {
                "const": "appstore-url-validation",
                "type": "string"
              },
              "with": {
                "properties": {
                  "config": {
                    "additionalProperties": true,
                    "type": "object"
                  },
                  "url": {
                    "type": "string"
                  }
                },
                "required": [
                  "url"
                ],
                "type": "object"
              }
            },
            "required": [
              "id",
              "use",
              "with"
            ],
            "type": "object"
          },
          {
            "additionalProperties": false,
            "properties": {
              "activity_options": {
                "$ref": "#/$defs/ActivityOptions"
              },
              "continue_on_error": {
                "type": "boolean"
              },
              "id": {
                "type": "string"
              },
              "metadata": {
                "additionalProperties": true,
                "type": "object"
              },
              "use": {
                "const": "cesr-parse",
                "type": "string"
              },
              "with": {
                "properties": {
                  "config": {
                    "additionalProperties": true,
                    "type": "object"
                  },
                  "rawCESR": {
                    "type": "string"
                  }
                },
                "required": [
                  "rawCESR"
                ],
                "type": "object"
              }
            },
            "required": [
              "id",
              "use",
              "with"
            ],
            "type": "object"
          },
          {
            "additionalProperties": false,
            "properties": {
              "activity_options": {
                "$ref": "#/$defs/ActivityOptions"
              },
              "continue_on_error": {
                "type": "boolean"
              },
              "id": {
                "type": "string"
              },
              "metadata": {
                "additionalProperties": true,
                "type": "object"
              },
              "use": {
                "const": "cesr-validate",
                "type": "string"
              },
              "with": {
                "properties": {
                  "config": {
                    "additionalProperties": true,
                    "type": "object"
                  },
                  "events": {
                    "type": "string"
                  }
                },
                "required": [
                  "events"
                ],
                "type": "object"
              }
            },
            "required": [
              "id",
              "use",
              "with"
            ],
            "type": "object"
          },
          {
            "additionalProperties": false,
            "properties": {
              "activity_options": {
                "$ref": "#/$defs/ActivityOptions"
              },
              "continue_on_error": {
                "type": "boolean"
              },
              "id": {
                "type": "string"
              },
              "metadata": {
                "additionalProperties": true,
                "type": "object"
              },
              "use": {
                "const": "conformance-check",
                "type": "string"
              },
              "with": {
                "properties": {
                  "check_id": {
                    "type": "string"
                  },
                  "config": {
                    "additionalProperties": true,
                    "type": "object"
                  },
                  "form": {
                    "additionalProperties": false,
                    "properties": {
                      "alias": {
                        "type": "string"
                      },
                      "client": {
                        "additionalProperties": false,
                        "properties": {
                          "authorization_encrypted_response_alg": {
                            "type": "string"
                          },
                          "authorization_encrypted_response_enc": {
                            "type": "string"
                          },
                          "client_id": {
                            "type": "string"
                          },
                          "dcql": {
                            "additionalProperties": false,
                            "properties": {
                              "credentials": {
                                "items": {
                                  "type": "object"
                                },
                                "type": "array"
                              }
                            },
                            "required": [
                              "credentials"
                            ],
                            "type": "object"
                          },
                          "jwks": {
                            "additionalProperties": false,
                            "properties": {
                              "keys": {
                                "items": {
                                  "type": "object"
                                },
                                "type": "array"
                              }
                            },
                            "required": [
                              "keys"
                            ],
                            "type": "object"
                          },
                          "presentation_definition": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "jwks"
                        ],
                        "type": "object"
                      },
                      "description": {
                        "type": "string"
                      },
                      "server": {
                        "additionalProperties": false,
                        "properties": {
                          "authorization_endpoint": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "authorization_endpoint"
                        ],
                        "type": "object"
                      }
                    },
                    "required": [
                      "alias",
                      "description",
                      "client",
                      "server"
                    ],
                    "type": "object"
                  },
                  "session_id": {
                    "type": "string"
                  },
                  "test": {
                    "type": "string"
                  }
                },
                "required": [
                  "check_id"
                ],
                "type": "object"
              }
            },
            "required": [
              "id",
              "use",
              "with"
            ],
            "type": "object"
          },
          {
            "additionalProperties": false,
            "properties": {
              "activity_options": {
                "$ref": "#/$defs/ActivityOptions"
              },
              "continue_on_error": {
                "type": "boolean"
              },
              "id": {
                "type": "string"
              },
              "metadata": {
                "additionalProperties": true,
                "type": "object"
              },
              "use": {
                "const": "container-run",
                "type": "string"
              },
              "with": {
                "properties": {
                  "cmd": {
                    "items": {
                      "type": "string"
                    },
                    "type": "array"
                  },
                  "config": {
                    "additionalProperties": true,
                    "type": "object"
                  },
                  "containerName": {
                    "type": "string"
                  },
                  "env": {
                    "items": {
                      "type": "string"
                    },
                    "type": "array"
                  },
                  "image": {
                    "type": "string"
                  },
                  "mounts": {
                    "items": {
                      "type": "string"
                    },
                    "type": "array"
                  },
                  "networkConfig": {
                    "additionalProperties": false,
                    "properties": {
                      "EndpointsConfig": {
                        "additionalProperties": {
                          "additionalProperties": false,
                          "properties": {
                            "Aliases": {
                              "items": {
                                "type": "string"
                              },
                              "type": "array"
                            },
                            "DNSNames": {
                              "items": {
                                "type": "string"
                              },
                              "type": "array"
                            },
                            "DriverOpts": {
                              "additionalProperties": {
                                "type": "string"
                              },
                              "type": "object"
                            },
                            "EndpointID": {
                              "type": "string"
                            },
                            "Gateway": {
                              "type": "string"
                            },
                            "GlobalIPv6Address": {
                              "type": "string"
                            },
                            "GlobalIPv6PrefixLen": {
                              "type": "integer"
                            },
                            "GwPriority": {
                              "type": "integer"
                            },
                            "IPAMConfig": {
                              "additionalProperties": false,
                              "properties": {
                                "IPv4Address": {
                                  "type": "string"
                                },
                                "IPv6Address": {
                                  "type": "string"
                                },
                                "LinkLocalIPs": {
                                  "items": {
                                    "type": "string"
                                  },
                                  "type": "array"
                                }
                              },
                              "type": "object"
                            },
                            "IPAddress": {
                              "type": "string"
                            },
                            "IPPrefixLen": {
                              "type": "integer"
                            },
                            "IPv6Gateway": {
                              "type": "string"
                            },
                            "Links": {
                              "items": {
                                "type": "string"
                              },
                              "type": "array"
                            },
                            "MacAddress": {
                              "type": "string"
                            },
                            "NetworkID": {
                              "type": "string"
                            }
                          },
                          "required": [
                            "IPAMConfig",
                            "Links",
                            "Aliases",
                            "MacAddress",
                            "DriverOpts",
                            "GwPriority",
                            "NetworkID",
                            "EndpointID",
                            "Gateway",
                            "IPAddress",
                            "IPPrefixLen",
                            "IPv6Gateway",
                            "GlobalIPv6Address",
                            "GlobalIPv6PrefixLen",
                            "DNSNames"
                          ],
                          "type": "object"
                        },
                        "type": "object"
                      }
                    },
                    "required": [
                      "EndpointsConfig"
                    ],
                    "type": "object"
                  },
                  "ports": {
                    "items": {
                      "type": "string"
                    },
                    "type": "array"
                  },
                  "user": {
                    "type": "string"
                  }
                },
                "required": [
                  "image"
                ],
                "type": "object"
              }
            },
            "required": [
              "id",
              "use",
              "with"
            ],
            "type": "object"
          },
          {
            "additionalProperties": false,
            "properties": {
              "activity_options": {
                "$ref": "#/$defs/ActivityOptions"
              },
              "continue_on_error": {
                "type": "boolean"
              },
              "id": {
                "type": "string"
              },
              "metadata": {
                "additionalProperties": true,
                "type": "object"
              },
              "use": {
                "const": "credential-issuer-validation",
                "type": "string"
              },
              "with": {
                "properties": {
                  "base_url": {
                    "type": "string"
                  },
                  "config": {
                    "additionalProperties": true,
                    "type": "object"
                  }
                },
                "required": [
                  "base_url"
                ],
                "type": "object"
              }
            },
            "required": [
              "id",
              "use",
              "with"
            ],
            "type": "object"
          },
          {
            "additionalProperties": false,
            "properties": {
              "activity_options": {
                "$ref": "#/$defs/ActivityOptions"
              },
              "continue_on_error": {
                "type": "boolean"
              },
              "id": {
                "type": "string"
              },
              "metadata": {
                "additionalProperties": true,
                "type": "object"
              },
              "use": {
                "const": "credential-offer",
                "type": "string"
              },
              "with": {
                "properties": {
                  "config": {
                    "additionalProperties": true,
                    "type": "object"
                  },
                  "credential_id": {
                    "type": "string"
                  }
                },
                "required": [
                  "credential_id"
                ],
                "type": "object"
              }
            },
            "required": [
              "id",
              "use",
              "with"
            ],
            "type": "object"
          },
          {
            "additionalProperties": false,
            "properties": {
              "activity_options": {
                "$ref": "#/$defs/ActivityOptions"
              },
              "continue_on_error": {
                "type": "boolean"
              },
              "id": {
                "type": "string"
              },
              "metadata": {
                "additionalProperties": true,
                "type": "object"
              },
              "use": {
                "const": "custom-check",
                "type": "string"
              },
              "with": {
                "properties": {
                  "config": {
                    "additionalProperties": true,
                    "type": "object"
                  },
                  "id": {
                    "type": "string"
                  },
                  "yaml": {
                    "type": "string"
                  }
                },
                "type": "object"
              }
            },
            "required": [
              "id",
              "use",
              "with"
            ],
            "type": "object"
          },
          {
            "additionalProperties": false,
            "properties": {
              "activity_options": {
                "$ref": "#/$defs/ActivityOptions"
              },
              "continue_on_error": {
                "type": "boolean"
              },
              "id": {
                "type": "string"
              },
              "metadata": {
                "additionalProperties": true,
                "type": "object"
              },
              "use": {
                "const": "email",
                "type": "string"
              },
              "with": {
                "properties": {
                  "body": {
                    "type": "string"
                  },
                  "config": {
                    "additionalProperties": true,
                    "type": "object"
                  },
                  "data": {
                    "type": "object"
                  },
                  "recipient": {
                    "type": "string"
                  },
                  "sender": {
                    "type": "string"
                  },
                  "subject": {
                    "type": "string"
                  },
                  "template": {
                    "type": "string"
                  }
                },
                "required": [
                  "recipient"
                ],
                "type": "object"
              }
            },
            "required": [
              "id",
              "use",
              "with"
            ],
            "type": "object"
          },
          {
            "additionalProperties": false,
            "properties": {
              "activity_options": {
                "$ref": "#/$defs/ActivityOptions"
              },
              "continue_on_error": {
                "type": "boolean"
              },
              "id": {
                "type": "string"
              },
              "metadata": {
                "additionalProperties": true,
                "type": "object"
              },
              "use": {
                "const": "http-request",
                "type": "string"
              },
              "with": {
                "properties": {
                  "body": true,
                  "config": {
                    "additionalProperties": true,
                    "type": "object"
                  },
                  "expected_status": {
                    "type": "integer"
                  },
                  "headers": {
                    "additionalProperties": {
                      "type": "string"
                    },
                    "type": "object"
                  },
                  "method": {
                    "type": "string"
                  },
                  "query_params": {
                    "additionalProperties": {
                      "type": "string"
                    },
                    "type": "object"
                  },
                  "timeout": {
                    "type": "string"
                  },
                  "url": {
                    "type": "string"
                  }
                },
                "required": [
                  "method",
                  "url"
                ],
                "type": "object"
              }
            },
            "required": [
              "id",
              "use",
              "with"
            ],
            "type": "object"
          },
          {
            "additionalProperties": false,
            "properties": {
              "activity_options": {
                "$ref": "#/$defs/ActivityOptions"
              },
              "continue_on_error": {
                "type": "boolean"
              },
              "id": {
                "type": "string"
              },
              "metadata": {
                "additionalProperties": true,
                "type": "object"
              },
              "use": {
                "const": "json-parse",
                "type": "string"
              },
              "with": {
                "properties": {
                  "config": {
                    "additionalProperties": true,
                    "type": "object"
                  },
                  "rawJSON": {
                    "type": "string"
                  },
                  "struct_type": {
                    "type": "string"
                  }
                },
                "required": [
                  "rawJSON",
                  "struct_type"
                ],
                "type": "object"
              }
            },
            "required": [
              "id",
              "use",
              "with"
            ],
            "type": "object"
          },
          {
            "additionalProperties": false,
            "properties": {
              "activity_options": {
                "$ref": "#/$defs/ActivityOptions"
              },
              "continue_on_error": {
                "type": "boolean"
              },
              "id": {
                "type": "string"
              },
              "metadata": {
                "additionalProperties": true,
                "type": "object"
              },
              "use": {
                "const": "jsonschema-validation",
                "type": "string"
              },
              "with": {
                "properties": {
                  "config": {
                    "additionalProperties": true,
                    "type": "object"
                  },
                  "data": {
                    "type": "object"
                  },
                  "schema": {
                    "type": "string"
                  },
                  "subschema": true
                },
                "required": [
                  "schema",
                  "data"
                ],
                "type": "object"
              }
            },
            "required": [
              "id",
              "use",
              "with"
            ],
            "type": "object"
          },
          {
            "additionalProperties": false,
            "properties": {
              "activity_options": {
                "$ref": "#/$defs/ActivityOptions"
              },
              "continue_on_error": {
                "type": "boolean"
              },
              "id": {
                "type": "string"
              },
              "metadata": {
                "additionalProperties": true,
                "type": "object"
              },
              "use": {
                "const": "mobile-automation",
                "type": "string"
              },
              "with": {
                "oneOf": [
                  {
                    "additionalProperties": false,
                    "properties": {
                      "action_id": {
                        "type": "string"
                      },
                      "config": {
                        "additionalProperties": true,
                        "type": "object"
                      },
                      "parameters": {
                        "additionalProperties": {
                          "type": "string"
                        },
                        "type": "object"
                      },
                      "video": {
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "action_id"
                    ],
                    "type": "object"
                  },
                  {
                    "additionalProperties": false,
                    "properties": {
                      "action_id": {
                        "type": "string"
                      },
                      "config": {
                        "additionalProperties": true,
                        "type": "object"
                      },
                      "parameters": {
                        "additionalProperties": {
                          "type": "string"
                        },
                        "type": "object"
                      },
                      "version_id": {
                        "type": "string"
                      },
                      "video": {
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "action_id",
                      "version_id"
                    ],
                    "type": "object"
                  },
                  {
                    "additionalProperties": false,
                    "properties": {
                      "action_code": {
                        "type": "string"
                      },
                      "config": {
                        "additionalProperties": true,
                        "type": "object"
                      },
                      "parameters": {
                        "additionalProperties": {
                          "type": "string"
                        },
                        "type": "object"
                      },
                      "version_id": {
                        "type": "string"
                      },
                      "video": {
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "action_code",
                      "version_id"
                    ],
                    "type": "object"
                  }
                ]
              }
            },
            "required": [
              "id",
              "use",
              "with"
            ],
            "type": "object"
          },
          {
            "additionalProperties": false,
            "properties": {
              "activity_options": {
                "$ref": "#/$defs/ActivityOptions"
              },
              "continue_on_error": {
                "type": "boolean"
              },
              "id": {
                "type": "string"
              },
              "metadata": {
                "additionalProperties": true,
                "type": "object"
              },
              "use": {
                "const": "rest-chain",
                "type": "string"
              },
              "with": {
                "properties": {
                  "config": {
                    "additionalProperties": true,
                    "type": "object"
                  },
                  "data": {
                    "type": "object"
                  },
                  "env": {
                    "type": "string"
                  },
                  "secrets": {
                    "additionalProperties": {
                      "type": "string"
                    },
                    "type": "object"
                  },
                  "yaml": {
                    "type": "string"
                  }
                },
                "required": [
                  "yaml"
                ],
                "type": "object"
              }
            },
            "required": [
              "id",
              "use",
              "with"
            ],
            "type": "object"
          },
          {
            "additionalProperties": false,
            "properties": {
              "activity_options": {
                "$ref": "#/$defs/ActivityOptions"
              },
              "continue_on_error": {
                "type": "boolean"
              },
              "id": {
                "type": "string"
              },
              "metadata": {
                "additionalProperties": true,
                "type": "object"
              },
              "use": {
                "const": "use-case-verification-deeplink",
                "type": "string"
              },
              "with": {
                "properties": {
                  "config": {
                    "additionalProperties": true,
                    "type": "object"
                  },
                  "use_case_id": {
                    "type": "string"
                  }
                },
                "required": [
                  "use_case_id"
                ],
                "type": "object"
              }
            },
            "required": [
              "id",
              "use",
              "with"
            ],
            "type": "object"
          }
        ]
      },
      "type": "array"
    },
    "version": {
      "type": "string"
    }
  },
  "required": [
    "name"
  ],
  "type": "object"
}